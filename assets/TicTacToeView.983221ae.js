import{_ as N,d as A,G as B,r as F,o as a,f as c,j as k,D as V,w as v,F as l,N as E,a as D,g as b,u as G,b as I,n as j,t as H}from"./index.02e8f1ba.js";const L=I("Reset"),O={class:"board"},R=["onClick"],S=A({setup(p){let e=[[0,0,0],[0,0,0],[0,0,0]],x=B([[0,0,0],[0,0,0],[0,0,0]]),s=!0;function f(t){return e[0][0]===t&&e[0][1]===t&&e[0][2]===t||e[1][0]===t&&e[1][1]===t&&e[1][2]===t||e[2][0]===t&&e[2][1]===t&&e[2][2]===t||e[0][0]===t&&e[1][0]===t&&e[2][0]===t||e[0][1]===t&&e[1][1]===t&&e[2][1]===t||e[0][2]===t&&e[1][2]===t&&e[2][2]===t||e[0][0]===t&&e[1][1]===t&&e[2][2]===t||e[0][2]===t&&e[1][1]===t&&e[2][0]===t}function _(){return e.every(t=>t.every(n=>n))}function C(t){if(f(t))return[1];if(f(-t))return[-1];if(_())return[0];let n=-1,o=[];for(let r=0;r<3;r++)for(let u=0;u<3;u++)if(e[r][u]===0){e[r][u]=t;let i=-C(-t)[0];e[r][u]=0,i>n&&(o=[]),n=Math.max(n,i),i==n&&o.push([r,u])}return[n,o]}function d(){for(let t=0;t<3;t++)for(let n=0;n<3;n++)x[t][n]=e[t][n]}function m(t=1){if(s)return;let[,n]=C(t);if(!n||!n.length)return;let o=n[Math.floor(Math.random()*n.length)];e[o[0]][o[1]]=t,s=!0,d()}function w(){f(1)||f(-1)||_()||!s||(m(-1),s=!1,setTimeout(m,500))}function T(t,n){f(1)||f(-1)||_()||e[t][n]===0&&(!s||(s=!1,e[t][n]=-1,d(),setTimeout(m,500)))}function M(t,n,o){return t===-1?"X":t===1?"O":String.fromCharCode(65+3*n+o)}function K(t){if(t.ctrlKey||t.metaKey||t.altKey||t.key.length!=1)return;if(t.key=="R"||t.key=="r")return t.preventDefault(),g();if(t.key=="J"||t.key=="j")return t.preventDefault(),w();let n=t.key.charCodeAt(0);if(65<=n&&n<=74)n-=65;else if(97<=n&&n<=106)n-=97;else return;t.preventDefault();let o=n%3,r=Math.floor(n/3);T(r,o)}function g(){e=[[0,0,0],[0,0,0],[0,0,0]],s=!0,d()}return(t,n)=>{const o=F("GlobalEvents");return a(),c(l,null,[k(o,{onKeydown:K}),k(V,{"explicit-height":"",flexbox:""},{nav:v(()=>[k(E,{onClick:g},{default:v(()=>[L]),_:1})]),default:v(()=>[D("div",O,[(a(!0),c(l,null,b(G(x),(r,u)=>(a(),c(l,{key:u},[(a(!0),c(l,null,b(r,(i,h)=>(a(),c("span",{key:h,class:"outer-cell",onClick:z=>T(u,h)},[D("span",{class:j([i==-1?"x":i==1?"o":"n","cell"])},H(M(i,u,h)),3)],8,R))),128))],64))),128))])]),_:1})],64)}}});var P=N(S,[["__scopeId","data-v-2266ff28"]]);export{P as default};
